(function(e,c,a,g){var d="Dotter",f={};function b(i,h){this.elem=i;this.options=e.extend({},f,h);this._defaults=f;this._name=d;this.init();this.execute()}b.prototype.init=function(){this._originString=this.elem.text().toString()};b.prototype.execute=function(){var m=this.elem.css("font-size");var p=e('<span style="display: inline-block; font-size: '+m+';">').appendTo("body");var o=this._originString.split("");var h=n(p);var l=[];var k=0;while(p.width()+(h*3)<=this.elem.width()&&k<o.length){p.append(o[k]);l.push(o[k]);k++}if(p.width()+(h*3)>this.elem.width()){l=l.splice(0,(l.length)-1)}var j;if(k===o.length){j=l.join("")}else{j=l.join("")+"..."}this.elem.html(j);p.remove();return this.elem;function n(q){q.html(".");var i=q.width();q.html("");return i}};e.fn[d]=function(i){var h=this;return this.each(function(){if(!e.data(this,"plugin_"+d)){e.data(this,"plugin_"+d,new b(h,i))}else{e.data(this,"plugin_"+d).execute()}})}})(jQuery,window,document);